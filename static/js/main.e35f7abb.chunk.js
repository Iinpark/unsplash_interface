(this.webpackJsonpunsplash_interface=this.webpackJsonpunsplash_interface||[]).push([[0],{22:function(e,t,a){e.exports={searchHeaderWrapper:"searchHeader_searchHeaderWrapper__3_cYP",searchTextInput:"searchHeader_searchTextInput__1F5Cd",collectionsList:"searchHeader_collectionsList__22j05"}},29:function(e,t,a){e.exports={placeholderWrapper:"placeholder_placeholderWrapper__3Fh6V",placeholder:"placeholder_placeholder___e8lr"}},37:function(e,t,a){e.exports={searchResultsScreen:"searchResultsScreen_searchResultsScreen__1ZGx9"}},38:function(e,t,a){e.exports=a.p+"static/media/empty_placeholder.ced1b148.png"},39:function(e,t,a){e.exports=a(77)},44:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),s=a.n(o),c=(a(44),a(7)),l=a(13),i=(a(49),a(50),a(10)),u=a(11),h=function(){return r.a.createElement("div",{className:"container-fluid mainWrapper"},r.a.createElement(l.b,{to:"/",className:"logoWrapper"},r.a.createElement(i.a,{icon:u.c}),r.a.createElement("span",{className:"logoText"},"unsplash_interface")),r.a.createElement("div",{className:"navigation"},r.a.createElement(l.b,{to:"/search",className:"navigation-button"},r.a.createElement(i.a,{color:"white",icon:u.f}),r.a.createElement("span",null,"\u041f\u043e\u0438\u0441\u043a")),r.a.createElement(l.b,{to:"/favorites",className:"navigation-button"},r.a.createElement(i.a,{color:"white",icon:u.d}),r.a.createElement("span",null,"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435")),r.a.createElement(l.b,{to:"/history",className:"navigation-button"},r.a.createElement(i.a,{color:"white",icon:u.e}),r.a.createElement("span",null,"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043f\u043e\u0438\u0441\u043a\u0430"))))},p=a(17),m=a(36),d=a(21),f=a(14),E=a(18),_=new(a.n(E).a)({accessKey:"rUttPX0GjgLp7kiiXGQNNTqLIuS2XGtb3OP6L0ZqSQY"}),v=function(e){return _.photos.getPhoto(e).then(E.toJson)},b=function(){return _.photos.listPhotos(1,10,"latest").then(E.toJson).then((function(e){return e}))},S=function(e){_.photos.downloadPhoto(e)},P=function(){return _.collections.listCollections(1,10,"popular").then(E.toJson).then((function(e){return e}))},O=function(e){return _.search.photos(e,1,10).then(E.toJson).then((function(e){return e}))},g={SEARCH_PENDING:"SEARCH_PENDING",SEARCH_SUCCESS:"SEARCH_SUCCESS",SEARCH_FAILURE:"SEARCH_FAILURE",ADD_SEARCH_KEYWORD:"ADD_SEARCH_KEYWORD"},j={searchSuccsess:function(e){return{type:g.SEARCH_SUCCESS,results:e.results}},searchFailure:function(){return{type:g.SEARCH_NO_MATHCES}},searchPending:function(){return{type:g.SEARCH_PENDING}},addSearchKeyword:function(e){return{type:g.ADD_SEARCH_KEYWORD,keyword:e}},doSearch:function(e){return""===e.trim()&&alert("\u041f\u0443\u0441\u0442\u043e\u0439 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441"),function(t){t(j.searchPending()),t(j.addSearchKeyword(e)),O(e).then((function(e){t(j.searchSuccsess(e))})).catch((function(e){alert("\u043d\u0435\u0443\u0434\u0430\u0447\u0430 \u043f\u0440\u0438 \u043f\u043e\u0438\u0441\u043a\u0435",e),t(j.searchFailure())}))}}},y={search_keywords:[],search_results:void 0,is_pending:!1},N="TOGGLE_FAVORITE",C=function(e){return{type:N,photoJson:e}},w={favoritesList:[],total:0},k=function(e,t){return(null===e||void 0===e?void 0:e.id)===t.photoJson.id},R="FETCH_SUCCESS",L="SET_CURRENT_PHOTO_SUCCESS",A="GET_RELATED_PHOTOS_PENDING",T="GET_RELATED_PHOTOS_SUCCESS",H={fetchSuccess:function(e){return{type:R,photos:e}},setCurrentPhotoSuccess:function(e){return{type:L,currentPhoto:e}},fetchAllPhotos:function(){return function(e){b().then((function(t){e(H.fetchSuccess(t))})).catch((function(e){alert(e)}))}},setCurrentPhoto:function(e){return function(t){v(e).then((function(e){t(H.setCurrentPhotoSuccess(e),t(H.getRelatedPhotos(e.alt_description)))}))}},getRelatedPhotos:function(e){return function(t){t(H.getRelatedPhotosPending()),O(e).then((function(e){t(H.getRelatedPhotosSuccess(e.results))}))}},getRelatedPhotosSuccess:function(e){return{type:T,relatedPhotos:e}},getRelatedPhotosPending:function(){return{type:A}}},D={allPhotos:void 0,currentPhoto:void 0,relatedPhotos:void 0,isRelatedPhotosPending:!0},W=Object(p.c)({search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.results,r=t.keyword;switch(a){case g.SEARCH_PENDING:return Object(f.a)({},e,{is_pending:!0});case g.SEARCH_SUCCESS:return Object(f.a)({},e,{search_results:n,isPending:!1});case g.SEARCH_FAILURE:return Object(f.a)({},e,{search_results:"no matches"});case g.ADD_SEARCH_KEYWORD:var o=Object(d.a)(e.search_keywords);return o.push(r),Object(f.a)({},e,{search_keywords:o});default:return Object(f.a)({},e)}},favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:var a=e.favoritesList.some((function(e){return k(e,t)})),n=t.photoJson;return a?(delete n.isLiked,Object.assign({},e,{favoritesList:e.favoritesList.filter((function(e){return!k(e,t)}))})):(n.isLiked=!0,Object.assign({},e,{favoritesList:[].concat(Object(d.a)(e.favoritesList),[n])}));default:return e}},photos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(f.a)({},e,{allPhotos:t.photos});case L:return Object(f.a)({},e,{currentPhoto:t.currentPhoto});case T:return Object(f.a)({},e,{relatedPhotos:t.relatedPhotos,isRelatedPhotosPending:!1});default:return e}}}),I=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||p.d,x=Object(p.e)(W,I(Object(p.a)(m.a))),U=a(2),B=a(3),G=a(5),F=a(4),K=a(6),J=a(15),M=a(22),Y=a.n(M),V=(a(71),function(e){var t=e.itemTitle;return r.a.createElement("span",null,t)}),X=function(e){function t(){return Object(U.a)(this,t),Object(G.a)(this,Object(F.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return console.log("H TEXT LIST",this.props),r.a.createElement("div",null,this.props.data?this.props.data.map((function(e){return r.a.createElement(V,{itemTitle:e})})):"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442")}}]),t}(r.a.PureComponent),Z=function(e){function t(e){var a;return Object(U.a)(this,t),(a=Object(G.a)(this,Object(F.a)(t).call(this,e))).state={collectionsList:void 0,searchKeyword:""},a}return Object(K.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){var e=this;P().then((function(t){var a=t.map((function(e){return e.title}));e.setState({collectionsList:a})}))}},{key:"viewCollection",value:function(){}},{key:"handleEnter",value:function(){this.props.doSearch(this.state.searchKeyword)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:Y.a.searchHeaderWrapper},r.a.createElement("form",{onSubmit:this.handleEnter.bind(this)},r.a.createElement("input",{className:Y.a.searchTextInput,type:"search",results:"2",placeholder:"\u041f\u043e\u0438\u0441\u043a",onChange:function(t){e.setState({searchKeyword:t.target.value})}})),r.a.createElement("hr",{size:"10",color:"white",width:"80%"}),r.a.createElement("div",{className:Y.a.collectionsList}))}}]),t}(r.a.Component),Q=Object(c.b)((function(e){return{search_results:e.search.search_results,is_pending:e.search.is_pending}}),(function(e){return{doSearch:function(t){e(j.doSearch(t))}}}))(Z),q=(a(72),function(e){function t(e){var a;return Object(U.a)(this,t),(a=Object(G.a)(this,Object(F.a)(t).call(this,e))).state={isLiked:a.props.json.isLiked},a}return Object(K.a)(t,e),Object(B.a)(t,[{key:"onViewPhoto",value:function(){var e=this.props.json.id;this.props.viewPhoto(e)}},{key:"render",value:function(){var e,t=this,a=null===(e=this.props.json)||void 0===e?void 0:e.isLiked,n=this.props.json.user;return r.a.createElement("div",{className:"card-overlay"},r.a.createElement("div",{className:"profile-info"},r.a.createElement("img",{src:n.profile_image.medium,className:"profile-photo",alt:"profile"}),r.a.createElement("div",{className:"profile-info-name"},r.a.createElement("a",{href:"https://instagram.com/".concat(n.instagram_username)},"@",n.instagram_username),r.a.createElement("span",null,n.name))),r.a.createElement("div",{className:"information-buttons"},r.a.createElement("button",{className:"information-button",style:a?{color:"red"}:{color:"white"},onClick:function(){t.props.toggleFavorite(t.props.json)}},r.a.createElement(i.a,{className:"information-icon",icon:u.d})),r.a.createElement(l.b,{to:"/photo",className:"information-button",onClick:this.onViewPhoto.bind(this)},r.a.createElement(i.a,{className:"information-icon",icon:u.b})),r.a.createElement("a",{className:"information-button",onClick:function(){S(t.props.json)},href:this.props.json.links.download+"?force=true"},r.a.createElement(i.a,{className:"information-icon",icon:u.a}))))}}]),t}(r.a.Component)),z=Object(c.b)((function(e){return{favoritesList:e.favorites.favoritesList}}),(function(e){return{toggleFavorite:function(t){e(C(t))},viewPhoto:function(t){e(H.setCurrentPhoto(t))}}}))(q),$=(a(73),function(e){var t=e.src,a=e.altDesc,n=e.json;return r.a.createElement("figure",null,r.a.createElement("div",{className:"card"},r.a.createElement("img",{src:t,alt:a,className:"image"}),r.a.createElement("div",{className:"information-overlay"},r.a.createElement(z,{json:n}))))}),ee=(a(74),function(e){function t(){return Object(U.a)(this,t),Object(G.a)(this,Object(F.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"root"},this.props.data?this.props.data.map((function(e){return r.a.createElement($,{src:e.urls.small,altDesc:e.alt_description,json:e})})):null)}}]),t}(r.a.Component)),te=a(37),ae=a.n(te),ne=a(38),re=a.n(ne),oe=a(29),se=a.n(oe),ce=function(){return r.a.createElement("div",{className:se.a.placeholderWrapper},r.a.createElement("div",null,r.a.createElement("img",{src:re.a,alt:"placeholder",className:se.a.placeholder})))},le=function(e){function t(e){var a;return Object(U.a)(this,t),(a=Object(G.a)(this,Object(F.a)(t).call(this,e))).state={search_results:void 0},a}return Object(K.a)(t,e),Object(B.a)(t,[{key:"componentWillUnmount",value:function(){this.state.search_results=void 0,console.log("UNMOUNTING",this.state.search_results)}},{key:"render",value:function(){return r.a.createElement("div",{className:ae.a.searchResultsScreen},r.a.createElement(Q,null),this.state.search_results?r.a.createElement(ee,{data:this.state.search_results}):r.a.createElement(ce,null))}}],[{key:"getDerivedStateFromProps",value:function(e){return{search_results:e.search_results}}}]),t}(r.a.Component),ie=Object(c.b)((function(e){return{search_results:e.search.search_results}}))(le),ue=function(e){function t(){return Object(U.a)(this,t),Object(G.a)(this,Object(F.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAllPhotos()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ee,{data:this.props.allPhotos})||"\u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442")}}]),t}(r.a.Component),he=Object(c.b)((function(e){return console.log("STATE",e),{allPhotos:e.photos.allPhotos}}),(function(e){return{fetchAllPhotos:function(){e(H.fetchAllPhotos())}}}))(ue),pe=(a(75),function(e){var t=e.search_history_list;return r.a.createElement("div",{className:"history-header-wrapper"},r.a.createElement("span",{className:"yourQuerys"},"\u0412\u0430\u0448\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u044b"),r.a.createElement(X,{data:t}))}),me=function(e){function t(){return Object(U.a)(this,t),Object(G.a)(this,Object(F.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){console.log("SearchHistoryScreen",this.props);var e=this.props.search_history_list;return 0===e.length?r.a.createElement(ce,null):r.a.createElement(pe,{search_history_list:e})}}]),t}(r.a.Component),de=Object(c.b)((function(e){return{search_history_list:e.search.search_keywords}}))(me),fe=Object(c.b)((function(e){return{favoritesList:e.favorites.favoritesList}}))((function(e){var t=e.favoritesList;return 0===t.length?r.a.createElement(ce,null):r.a.createElement(ee,{data:t})})),Ee=a(8),_e=a.n(Ee),ve=function(e){function t(){return Object(U.a)(this,t),Object(G.a)(this,Object(F.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(B.a)(t,[{key:"tagList",value:function(e){return r.a.createElement("div",{className:_e.a.relatedTags},r.a.createElement("span",null,"\u041f\u043e\u0445\u043e\u0436\u0438\u0435 \u0442\u0435\u0433\u0438"),r.a.createElement("div",null,e?e.map((function(e){return r.a.createElement("span",{style:{display:"flexbox",width:"fit-content"}},e.title)})):r.a.createElement("h2",null,"\u0413\u0440\u0443\u0437\u0438\u043c\u0441\u044f")))}},{key:"relatedPhotos",value:function(e){return r.a.createElement(ee,{data:e})}},{key:"render",value:function(){var e,t,a;console.log("PHOTOS SCREEN",this.props.currentPhoto);var n=this.props.currentPhoto,o=null===n||void 0===n?void 0:n.user;return r.a.createElement("div",{className:_e.a.photosScreenWrapper},r.a.createElement("section",{className:_e.a.photosWrapper},r.a.createElement("div",{className:_e.a.photosScreenBackground},r.a.createElement("img",{src:null===n||void 0===n?void 0:null===(e=n.urls)||void 0===e?void 0:e.regular,alt:"beautyful background"})),r.a.createElement("section",{className:_e.a.photosScreenOverlay},r.a.createElement("div",{className:_e.a.photoUpperButtons},r.a.createElement("div",{className:_e.a.profileInfo},r.a.createElement("img",{className:_e.a.profilePhoto,src:null===o||void 0===o?void 0:o.profile_image.medium,alt:"profile avatar"}),r.a.createElement("div",{className:_e.a.profileText},r.a.createElement("h1",{className:_e.a.profileName},null===o||void 0===o?void 0:o.username),r.a.createElement("span",{className:_e.a.profileLink},"@",null===o||void 0===o?void 0:o.instagram_username))),r.a.createElement("div",{className:_e.a.upperButtons},r.a.createElement("button",{className:_e.a.upperButtonsHeart},r.a.createElement(i.a,{color:"#828282",icon:u.d})),r.a.createElement("a",{href:(null===n||void 0===n?void 0:null===(t=n.links)||void 0===t?void 0:t.download)+"?force=true"||!1,className:_e.a.upperButtonsDownload},r.a.createElement(i.a,{color:"white",icon:u.a}),r.a.createElement("span",null,"\u0421\u043a\u0430\u0447\u0430\u0442\u044c")))),r.a.createElement("img",{className:_e.a.photo,src:null===n||void 0===n?void 0:null===(a=n.urls)||void 0===a?void 0:a.regular,alt:"."}))),r.a.createElement("section",{className:_e.a.relatedPhotos},r.a.createElement("h2",null,"\u041f\u043e\u0445\u043e\u0436\u0438\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438"),this.relatedPhotos(this.props.relatedPhotos)))}}]),t}(r.a.Component),be=Object(c.b)((function(e){return{currentPhoto:e.photos.currentPhoto,relatedPhotos:e.photos.relatedPhotos,isRelatedPhotosPending:e.photos.isRelatedPhotosPending}}),(function(e){return{getRelatedPhotos:function(t){return e(H.getRelatedPhotos(t))}}}))(ve),Se=function(e){function t(){return Object(U.a)(this,t),Object(G.a)(this,Object(F.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return r.a.createElement(J.c,null,r.a.createElement(J.a,{path:"/search"},r.a.createElement(ie,null)),r.a.createElement(J.a,{path:"/history"},r.a.createElement(de,null)),r.a.createElement(J.a,{path:"/favorites"},r.a.createElement(fe,null)),r.a.createElement(J.a,{exact:!0,path:"/"},r.a.createElement(he,null)),r.a.createElement(J.a,{path:"/photo"},r.a.createElement(be,null)))}}]),t}(r.a.PureComponent);var Pe=function(){return r.a.createElement(c.a,{store:x},r.a.createElement(l.a,null,r.a.createElement("div",{className:"MainWrapper"},r.a.createElement("div",{className:"header"},r.a.createElement(h,null)),r.a.createElement("div",{className:"content"},r.a.createElement(Se,null),r.a.createElement("footer",{className:"footer"},r.a.createElement("span",null,"2020"),r.a.createElement("a",{href:"https://youtu.be/A0FZIwabctw",title:"\u0423\u0437\u043d\u0430\u0442\u044c \u0447\u0442\u043e \u044d\u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442",target:"blank"},"\u2055Made on Earth for Humans\u2055"))))))};a(76),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(Pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports={photosScreenWrapper:"PhotosScreen_photosScreenWrapper__1AKTW",photosWrapper:"PhotosScreen_photosWrapper__3wKSl",photosScreenBackground:"PhotosScreen_photosScreenBackground__3dWyu",photosScreenOverlay:"PhotosScreen_photosScreenOverlay__3pigU",photo:"PhotosScreen_photo__1ExPw",profileInfo:"PhotosScreen_profileInfo__464e3",profilePhoto:"PhotosScreen_profilePhoto__1SZpd",profileText:"PhotosScreen_profileText__1bz7o",profileName:"PhotosScreen_profileName__1NO5V",profileLink:"PhotosScreen_profileLink__2K8YL",photoUpperButtons:"PhotosScreen_photoUpperButtons__MAGEE",upperButtonsDownload:"PhotosScreen_upperButtonsDownload__10wsA",upperButtons:"PhotosScreen_upperButtons__3vZ4i",upperButtonsHeart:"PhotosScreen_upperButtonsHeart__3jnSg",relatedTags:"PhotosScreen_relatedTags__xBPyG",relatedPhotos:"PhotosScreen_relatedPhotos__1_9xE"}}},[[39,1,2]]]);
//# sourceMappingURL=main.e35f7abb.chunk.js.map