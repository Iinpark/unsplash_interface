{"version":3,"sources":["PhotosScreen/PhotosScreen.module.css","components/ImgWithPreloader/ImgWithPreloader.module.css","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/ImgWithPreloader/ImgWithPreloader.jsx","PhotosScreen/PhotosScreen.jsx"],"names":["module","exports","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","TypeError","ImgWithPreloader","src","useState","isImageLoaded","setState","className","styles","photo","display","alt","onLoad","style","preloader","Preloader","PhotosScreen","state","visibility","tags","relatedTags","map","tag","width","title","data","CardList","this","props","isCurrentPhotoPending","console","log","currentPhoto","json","user","urls","regular","photosScreenWrapper","photosWrapper","photosScreenBackground","photosScreenOverlay","photoUpperButtons","profileInfo","profilePhoto","profile_image","medium","profileText","profileName","username","profileLink","InstagramLink","instagram_username","upperButtons","upperButtonsHeart","color","icon","faHeart","href","links","download","upperButtonsDownload","faDownload","relatedPhotos","React","PureComponent","connect","photosScreen","isRelatedPhotosPending","dispatch","getRelatedPhotos","keyword","photoActions"],"mappings":"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","file":"static/js/6.36f9ec53.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"photosScreenWrapper\":\"PhotosScreen_photosScreenWrapper__1AKTW\",\"photosWrapper\":\"PhotosScreen_photosWrapper__3wKSl\",\"photosScreenBackground\":\"PhotosScreen_photosScreenBackground__3dWyu\",\"photosScreenOverlay\":\"PhotosScreen_photosScreenOverlay__3pigU\",\"photo\":\"PhotosScreen_photo__1ExPw\",\"profileInfo\":\"PhotosScreen_profileInfo__464e3\",\"profilePhoto\":\"PhotosScreen_profilePhoto__1SZpd\",\"profileText\":\"PhotosScreen_profileText__1bz7o\",\"profileName\":\"PhotosScreen_profileName__1NO5V\",\"profileLink\":\"PhotosScreen_profileLink__2K8YL\",\"photoUpperButtons\":\"PhotosScreen_photoUpperButtons__MAGEE\",\"upperButtonsDownload\":\"PhotosScreen_upperButtonsDownload__10wsA\",\"upperButtons\":\"PhotosScreen_upperButtons__3vZ4i\",\"upperButtonsHeart\":\"PhotosScreen_upperButtonsHeart__3jnSg\",\"relatedTags\":\"PhotosScreen_relatedTags__xBPyG\",\"relatedPhotos\":\"PhotosScreen_relatedPhotos__1_9xE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo\":\"ImgWithPreloader_photo__3_VE2\",\"preloader\":\"ImgWithPreloader_preloader__38-sz\"};","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import React, { useState } from \"react\";\r\nimport Preloader from \"./../Preloader/Preloader\";\r\nimport styles from \"./ImgWithPreloader.module.css\";\r\n\r\nconst ImgWithPreloader = ({ src }) => {\r\n  const [isImageLoaded, setState] = useState(false);\r\n\r\n  return (\r\n    <>\r\n      <img\r\n        className={styles.photo}\r\n        display\r\n        src={src}\r\n        alt=\".\"\r\n        onLoad={() => {\r\n          setState(true);\r\n        }}\r\n        style={isImageLoaded ? { display: \"block\" } : { display: \"none\" }}\r\n      />\r\n      <div className={styles.preloader}>\r\n        {isImageLoaded === false ? <Preloader /> : null}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default ImgWithPreloader;\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faHeart, faDownload } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { connect } from \"react-redux\";\r\nimport styles from \"./PhotosScreen.module.css\";\r\nimport { photoActions } from \"./../redux/photoReducer\";\r\nimport CardList from \"./../components/Lists/CardList\";\r\nimport InstagramLink from \"../components/InstagramLink/InstagramLink\";\r\nimport Preloader from \"./../components/Preloader/Preloader\";\r\nimport ImgWithPreloader from \"../components/ImgWithPreloader/ImgWithPreloader\";\r\n\r\nclass PhotosScreen extends React.PureComponent {\r\n  state = {\r\n    isImageLoaded: false,\r\n    visibility: { visibility: \"hidden\" },\r\n  };\r\n\r\n  tagList(tags) {\r\n    return (\r\n      <div className={styles.relatedTags}>\r\n        <span>Похожие теги</span>\r\n        <div>\r\n          {tags ? (\r\n            tags.map((tag) => {\r\n              return (\r\n                <span style={{ display: \"flexbox\", width: \"fit-content\" }}>\r\n                  {tag.title}\r\n                </span>\r\n              );\r\n            })\r\n          ) : (\r\n            <h2>Грузимся</h2>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n\r\n  relatedPhotos(data) {\r\n    return <CardList data={data} />;\r\n  }\r\n\r\n  render() {\r\n    if (this.props.isCurrentPhotoPending) {\r\n      return <Preloader />\r\n    }\r\n    console.log(\"PHOTOS SCREEN\", this.props.currentPhoto);\r\n    const json = this.props.currentPhoto;\r\n    const user = json?.user;\r\n    const src = this.props.currentPhoto?.urls?.regular;\r\n    return (\r\n      <div className={styles.photosScreenWrapper}>\r\n        <section className={styles.photosWrapper}>\r\n          <div className={styles.photosScreenBackground}>\r\n            <img src={json?.urls?.regular} alt=\"beautiful background\" />\r\n          </div>\r\n          <section className={styles.photosScreenOverlay}>\r\n            <div className={styles.photoUpperButtons}>\r\n              <div className={styles.profileInfo}>\r\n                <img\r\n                  className={styles.profilePhoto}\r\n                  src={user?.profile_image.medium}\r\n                  alt=\"profile avatar\"\r\n                />\r\n                <div className={styles.profileText}>\r\n                  <h1 className={styles.profileName}>{user?.username}</h1>\r\n                  <span className={styles.profileLink}>\r\n                    <InstagramLink\r\n                      instagram_username={user?.instagram_username}\r\n                    />\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className={styles.upperButtons}>\r\n                <button className={styles.upperButtonsHeart}>\r\n                  <FontAwesomeIcon color=\"#828282\" icon={faHeart} />\r\n                </button>\r\n                <a\r\n                  href={json?.links?.download + \"?force=true\" || \"#\"}\r\n                  className={styles.upperButtonsDownload}\r\n                >\r\n                  <FontAwesomeIcon color=\"white\" icon={faDownload} />\r\n                  <span>Скачать</span>\r\n                </a>\r\n              </div>\r\n            </div>\r\n            <ImgWithPreloader src={src} />\r\n            {/*\r\n            TODO: Нормальные теги\r\n            {this.tagList(json?.tags)} */}\r\n          </section>\r\n        </section>\r\n        <section className={styles.relatedPhotos}>\r\n          <h2>Похожие фотографии</h2>\r\n          {this.relatedPhotos(this.props.relatedPhotos)}\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapState = (state) => {\r\n  return {\r\n    currentPhoto: state.photosScreen.currentPhoto,\r\n    relatedPhotos: state.photosScreen.relatedPhotos,\r\n    isRelatedPhotosPending: state.photosScreen.isRelatedPhotosPending,\r\n    isCurrentPhotoPending: state.photosScreen.isCurrentPhotoPending,\r\n  };\r\n};\r\nconst mapDispatch = (dispatch) => {\r\n  return {\r\n    getRelatedPhotos: (keyword) =>\r\n      dispatch(photoActions.getRelatedPhotos(keyword)),\r\n  };\r\n};\r\n\r\nexport default connect(mapState, mapDispatch)(PhotosScreen);\r\n"],"sourceRoot":""}